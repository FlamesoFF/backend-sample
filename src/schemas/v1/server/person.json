{
    "_id": "person_v1",
    "name": "person",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "Name of Person",
            "updatable": true,
            "logged": true,
            "required": true
        },
        "code": {
            "type": "string",
            "description": "Code of Person",
            "logged": true,
            "required": true
        },
        "initial": {
            "type": "string",
            "description": "",
            "logged": true,
            "displayed": true
        },
        "description": {
            "type": "string"
        },
        "emails": {
            "type": "array",
            "displayed": true,
            "display": "e-mails",
            "tostring": [
                "$self_value"
            ],
            "properties": {
                "#": {
                    "type": "object",
                    "tostring": [
                        "$address"
                    ],
                    "properties": {
                        "type": {
                            "type": "list",
                            "display": "type",
                            "description": "type",
                            "required": true,
                            "default": "work",
                            "items": {
                                "work": {
                                    "description": ""
                                },
                                "home": {
                                    "description": ""
                                }
                            }
                        },
                        "entity": {
                            "type": "documentlinkv2",
                            "displayed": true,
                            "mainkey": "name",
                            "url": "_design/s_client/_list/array/all",
                            "schema": "client_schema",
                            "keys": [],
                            "properties": {
                                "doc_id": {
                                    "type": "string",
                                    "default": null,
                                    "required": true,
                                    "show": [
                                        "admin"
                                    ]
                                },
                                "value": {
                                    "type": "string",
                                    "required": true
                                },
                                "fields": {
                                    "type": "object",
                                    "display": "Additional fields",
                                    "required": true,
                                    "template": "blue"
                                }
                            }
                        },
                        "address": {
                            "type": "string",
                            "display": "e-mail",
                            "description": "e-mail",
                            "required": true,
                            "focusme": true
                        }
                    }
                }
            }
        },
        "phones": {
            "type": "link",
            "url": "shares_schema/phones"
        },
        "faxes": {
            "type": "link",
            "url": "shares_schema/faxes"
        },
        "address": {
            "type": "string"
        },
        "passport": {
            "type": "object",
            "properties": {
                "number": {
                    "type": "string"
                },
                "issued": {
                    "type": "date",
                    "regexp": "^\\d\\d\\d\\d-\\d\\d-\\d\\d$",
                    "instruction": "Format of date must be YYYY-MM-DD (ex. 2001-01-01)"
                },
                "valid_till": {
                    "type": "date",
                    "regexp": "^\\d\\d\\d\\d-\\d\\d-\\d\\d$",
                    "instruction": "Format of date must be YYYY-MM-DD (ex. 2001-01-01)"
                },
                "authority": {
                    "type": "string"
                }
            }
        },
        "dob": {
            "type": "date",
            "regexp": "^\\d\\d\\d\\d-\\d\\d-\\d\\d$",
            "instruction": "Format of date must be YYYY-MM-DD (ex. 2001-01-01)"
        },
        "occupation": {
            "type": "string"
        },
        "wealth_source": {
            "type": "string"
        },
        "proof": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "address": {
                    "type": "string"
                }
            }
        },
        "notes": {
            "type": "string"
        },
        "status": {
            "type": "list",
            "items": {
                "-": {
                    "description": ""
                },
                "requested": {
                    "description": ""
                },
                "signed": {
                    "description": ""
                },
                "completed": {
                    "description": ""
                },
                "expired": {
                    "description": ""
                }
            }
        },
        "requested_on": {
            "type": "date",
            "regexp": "^\\d\\d\\d\\d-\\d\\d-\\d\\d$",
            "instruction": "Format of date must be YYYY-MM-DD (ex. 2001-01-01)"
        },
        "_id": {
            "type": "string",
            "show": [
                "admin"
            ]
        },
        "_rev": {
            "type": "string",
            "show": [
                "admin"
            ]
        },
        "object": {
            "type": "string",
            "description": "",
            "show": [
                "admin"
            ]
        },
        "type": {
            "type": "array",
            "minItems": 1,
            "show": [
                "admin"
            ],
            "required": true,
            "properties": {
                "0": {
                    "type": "string",
                    "default": "person"
                },
                "#": {
                    "type": "string",
                    "show": [
                        "admin"
                    ]
                }
            }
        },
        "changes": {
            "type": "link",
            "url": "shares_schema/changes"
        },
        "history": {
            "type": "link",
            "url": "shares_schema/historyv2"
        }
    }
}